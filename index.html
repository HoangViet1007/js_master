<!doctype html>
<html lang="en">

<head>
    <title>Trang chủ</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,
            shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./public/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="./public/css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="./public/css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="./public/css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="./public/css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="./public/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./public/css/style.css" type="text/css">
</head>

<body>
    <div class="wrap">
        <!-- Page Preloder -->
        <div id="preloder">
            <div class="loader"></div>
        </div>

        <div class="ng-header"></div>
        <!-- ----------- san pham ----- -->
        <section class="featured spad">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-title">
                            <h2>Featured Product</h2>
                        </div>
                        <div class="featured__controls">
                            <ul id="nav-cate">
                                <!-- <li class="active" data-filter="*" onclick="search(0)">All</li>
                                <li onclick="search(1)">Vegetable</li>
                                <li onclick="search(2)">Juice</li>
                                <li onclick="search(3)">Fresh Fruit</li>
                                <li onclick="search(4)">Dried Fruit</li> -->
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row featured__filter" id="all-products"></div>
            </div>
        </section>

        <!-- Banner Begin -->
        <div class="banner ">
            <div class="container ">
                <div class="row ">
                    <div class="col-lg-6 col-md-6 col-sm-6 ">
                        <div class="banner__pic ">
                            <img src="./public/img/banner/banner-1.jpg " alt=" ">
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 ">
                        <div class="banner__pic ">
                            <img src="./public/img/banner/banner-2.jpg " alt=" ">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Banner End -->

        <!-- Blog Section Begin -->
        <section class="from-blog spad">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-title from-blog__title">
                            <h2>From The Blog</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-6">
                        <div class="blog__item">
                            <div class="blog__item__pic">
                                <img src="./public/img/blog/blog-1.jpg" alt="">
                            </div>
                            <div class="blog__item__text">
                                <ul>
                                    <li><i class="fa fa-calendar-o"></i> May 4,2019</li>
                                    <li><i class="fa fa-comment-o"></i> 5</li>
                                </ul>
                                <h5><a href="#">Cooking tips make cooking simple</a></h5>
                                <p>Sed quia non numquam modi tempora indunt ut labore et dolore magnam aliquam quaerat </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-6">
                        <div class="blog__item">
                            <div class="blog__item__pic">
                                <img src="./public/img/blog/blog-2.jpg" alt="">
                            </div>
                            <div class="blog__item__text">
                                <ul>
                                    <li><i class="fa fa-calendar-o"></i> May 4,2019</li>
                                    <li><i class="fa fa-comment-o"></i> 5</li>
                                </ul>
                                <h5><a href="#">6 ways to prepare breakfast for 30</a></h5>
                                <p>Sed quia non numquam modi tempora indunt ut labore et dolore magnam aliquam quaerat </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-6">
                        <div class="blog__item">
                            <div class="blog__item__pic">
                                <img src="./public/img/blog/blog-3.jpg" alt="">
                            </div>
                            <div class="blog__item__text">
                                <ul>
                                    <li><i class="fa fa-calendar-o"></i> May 4,2019</li>
                                    <li><i class="fa fa-comment-o"></i> 5</li>
                                </ul>
                                <h5><a href="#">Visit the clean farm in the US</a></h5>
                                <p>Sed quia non numquam modi tempora indunt ut labore et dolore magnam aliquam quaerat </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Blog Section End -->

        <!-- -------- fooetr ---------- -->
        <div class="ng-footer mt-4 "></div>
    </div>

    <script src="./layout/header2.js"></script>
    <script src="./layout/footer.js"></script>
    <script src="./layout//getCategory.js"></script>
    <script>
        header2.getHeader2();
        footer.getFooter();
        getCate.getCate();
    </script>
    <!-- Optional JavaScript -->
    <script src="./public/js/jquery-3.3.1.min.js"></script>
    <script src="./public/js/bootstrap.min.js"></script>
    <script src="./public/js/jquery.nice-select.min.js"></script>
    <script src="./public/js/jquery-ui.min.js"></script>
    <script src="./public/js/jquery.slicknav.js"></script>
    <script src="./public/js/mixitup.min.js"></script>
    <script src="./public/js/owl.carousel.min.js"></script>
    <script src="./public/js/main.js"></script>


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js " integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo " crossorigin="anonymous "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js " integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1 " crossorigin="anonymous "></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js " integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM " crossorigin="anonymous "></script>

    <script>
        var api = "http://localhost:3000/products";
        var api2 = "http://localhost:3000/categories";
        fetch(api2, {
                method: "GET",
                dataType: "json"
            })
            .then(response => response.json())
            .then(data => {
                var content = "<li onclick='search(0) '>All</li>"
                data.forEach(element => {
                    content += `<li onclick=search(${element.id})>${element.name}</li>`
                })
                document.querySelector('#nav-cate ').innerHTML = content;
            })

        // search 
        function search(id) {
            var api_url = "http://localhost:3000/products?_expand=category&_start=0&_limit=8";

            switch (id) {
                case 0:
                    api_url = `http://localhost:3000/products`;
                    break;

                case id:
                    api_url += `&categoryId=${id}`;
                    break;
            }

            fetch(api_url, {
                    method: "GET",
                    dataType: "json"
                })
                .then(response => response.json())
                .then(data => {
                    var content = "";
                    data.forEach(element => {
                        content += `
                        <div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat">
                            <div class="featured__item">
                                <div class="featured__item__pic set-bg" data-setbg="${element.image}">
                                    <img src="${element.image}" alt="" style="background-size: contain;">
                                    <ul class="featured__item__pic__hover">
                                        <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                        <li><a href="product-detail.html?id=${element.id}"><i class="fa fa-retweet"></i></a></li>
                                        <li><a href="#"><i class="add-cart fa fa-shopping-cart" onclick="addCart(${element.id})"></i></a></li>
                                    </ul>
                                </div>
                                <div class="featured__item__text">
                                    <h6><a href="product-detail.html?id=${element.id}">${element.name}</a></h6>
                                    <h5>${element.price} đ</h5>
                                </div>
                            </div>
                        </div>`;
                    })

                    document.querySelector('#all-products ').innerHTML = content;
                })
        }



        // lay za pr 
        fetch(`${this.api}?_expand=category`, {
                method: "GET",
                dataType: "json",
            })
            .then(response => response.json())
            .then(data => {
                var content = "";
                data.forEach(element => {
                    content += `
                        <div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat">
                            <div class="featured__item">
                                <div class="featured__item__pic set-bg" data-setbg="${element.image}">
                                    <img src="${element.image}" alt="" style="background-size: contain;">
                                    <ul class="featured__item__pic__hover">
                                        <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                        <li><a href="product-detail.html?id=${element.id}"><i class="fa fa-retweet"></i></a></li>
                                        <li><a href="#"><i class="add-cart fa fa-shopping-cart" onclick="addCart(${element.id})"></i></a></li>
                                    </ul>
                                </div>
                                <div class="featured__item__text">
                                    <h6><a href="product-detail.html?id=${element.id}">${element.name}</a></h6>
                                    <h5>${element.price} đ</h5>
                                </div>
                            </div>
                        </div>`;
                })

                document.querySelector('#all-products ').innerHTML = content;
            })
    </script>

    <script src="./layout/cart.js"></script>

</body>

</html>